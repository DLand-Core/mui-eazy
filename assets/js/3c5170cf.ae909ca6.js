"use strict";(self.webpackChunkmui_eazy_docs=self.webpackChunkmui_eazy_docs||[]).push([[9337],{66893:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>x,contentTitle:()=>a,default:()=>m,frontMatter:()=>c,metadata:()=>h,toc:()=>u});var i=r(63159),s=r(31515),t=r(74851),d=r(64211),l=r(24929),o=r(4557);r(65643);const c={sidebar_position:1},a="Form",h={id:"components/pro/Form/form",title:"Form",description:"just one hook~.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/components/pro/Form/form.mdx",sourceDirName:"components/pro/Form",slug:"/components/pro/Form/",permalink:"/mui-eazy/docs/components/pro/Form/",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/components/pro/Form/form.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Pro",permalink:"/mui-eazy/docs/category/pro"},next:{title:"Field AutoComplete",permalink:"/mui-eazy/docs/components/pro/Form/field-autoComplete"}},x={},u=[{value:"Props",id:"npm2yarn-remark-plugin-configuration",level:2},{value:"Ts Type",id:"ts-type",level:2},{value:"FormConfigItem",id:"FormConfigItem",level:3},{value:"FieldConfig",id:"fieldconfig",level:3},{value:"InputConfig",id:"InputConfig",level:3},{value:"watch",id:"watch",level:3},{value:"props",id:"props",level:4},{value:"demo",id:"demo",level:4}];function j(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components},{Details:r}=e;return r||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"form",children:"Form"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"just one hook~."})}),"\n",(0,i.jsx)("h3",{children:"hook:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"useFields"})}),"\n"]}),"\n",(0,i.jsx)("h3",{children:"fields:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"fieldText"})}),"\n"]}),"\n","\n","\n",(0,i.jsxs)(d.A,{defaultValue:"Demo",values:[{label:"Demo",value:"Demo"},{label:"PlayGround",value:"PlayGround"}],children:[(0,i.jsx)(l.A,{value:"PlayGround",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",metastring:"live noInline",live:!0,children:'const useFormConfigCreater_root = (\n  props: { id?: string } = {}\n): (() => FormConfig) => {\n  return () => ({\n    title: {\n      fieldConfig: {\n        required: true,\n      },\n    },\n    sub_title: {\n      label: "subTitle",\n    },\n    amount: {\n      schema: Yup.number().min(1, "Amount must be greater than or equal to 1"),\n      fieldConfig: {\n        type: "number",\n      },\n      label: "Amount",\n    },\n    ask_desc: {\n      schema: Yup.string().max(\n        1000,\n        "Description must be less than 1000 characters"\n      ),\n      fieldConfig: {\n        type: "textarea",\n      },\n      label: "Description of Ask",\n    },\n    vendor_financing: {\n      label: "Vendor Financing",\n      type: "checkbox",\n      fieldConfig: {},\n    },\n    expire_at: {\n      type: "datePicker",\n      defaultValue: dayjs(),\n    },\n    logo: {\n      type: "upload",\n      label: "Logo",\n      fieldConfig: {\n        multiple: false,\n        uploadAction: async (file) => {\n          return uuidv4();\n        },\n      },\n    },\n    highlights: {\n      type: "editer",\n    },\n  });\n};\n\nconst Play = () => {\n  const formConfig = useFormConfigCreater_root()();\n  const { formNode } = useFields(formConfig);\n  return <>{formNode}</>;\n};\nrender(<Play />);\n'})})}),(0,i.jsx)(l.A,{value:"Demo",children:(0,i.jsx)(t.A,{children:(0,i.jsx)(o.FormDemoEx,{})})})]}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"show code"}),(0,i.jsxs)(d.A,{children:[(0,i.jsx)(l.A,{value:"componennt",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-tsx",metastring:"{8,16,24,26,46,61-68} showLineNumbers",children:'import { useFields } from "mui-eazy";\nimport { useFormConfigCreater_root } from "./formConfig";\n\nexport default () => {\n  const formConfig = useFormConfigCreater_root()();\n  const { formNode } = useFields(formConfig);\n  return <>{formNode}</>;\n};\n'})})}),(0,i.jsx)(l.A,{value:"form config",children:(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-tsx",metastring:"{61-68} showLineNumbers",children:'import dayjs from "dayjs";\nimport { FormConfig, uuidv4 } from "mui-eazy";\nimport * as Yup from "yup";\n\nexport const useFormConfigCreater_root = (\n  props: { id?: string } = {}\n): (() => FormConfig) => {\n  return () => ({\n    title: {\n      fieldConfig: {\n        required: true,\n      },\n    },\n    sub_title: {\n      label: "subTitle",\n    },\n    amount: {\n      schema: Yup.number().min(1, "Amount must be greater than or equal to 1"),\n      fieldConfig: {\n        type: "number",\n      },\n      label: "Amount",\n    },\n    ask_desc: {\n      schema: Yup.string().max(\n        1000,\n        "Description must be less than 1000 characters"\n      ),\n      fieldConfig: {\n        type: "textarea",\n      },\n      label: "Description of Ask",\n    },\n    vendor_financing: {\n      label: "Vendor Financing",\n      type: "checkbox",\n      fieldConfig: {},\n    },\n    expire_at: {\n      type: "datePicker",\n      defaultValue: dayjs(),\n    },\n    logo: {\n      type: "upload",\n      label: "Logo",\n      fieldConfig: {\n        multiple: false,\n        uploadAction: async (file) => {\n          return uuidv4();\n        },\n      },\n    },\n    highlights: {\n      type: "editer",\n    },\n  });\n};\n'})})})]})]}),"\n",(0,i.jsx)(e.h2,{id:"npm2yarn-remark-plugin-configuration",children:"Props"}),"\n",(0,i.jsx)(e.admonition,{title:"tip",type:"tip",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Type: any, can be customized as needed."}),"\n",(0,i.jsxs)(e.li,{children:["Default value:","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Not specified: optional."}),"\n",(0,i.jsx)(e.li,{children:'Specified as "require": mandatory.'}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"Type link: Click to navigate to the details below."}),"\n"]})}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"Option"}),(0,i.jsx)(e.th,{children:"Type"}),(0,i.jsx)(e.th,{children:"Default"}),(0,i.jsx)(e.th,{children:"Description"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"formConfig"})}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"required"})}),(0,i.jsx)(e.td,{})]})})]}),"\n",(0,i.jsx)(e.h2,{id:"ts-type",children:"Ts Type"}),"\n",(0,i.jsx)(e.h3,{id:"FormConfigItem",children:"FormConfigItem"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"Option"}),(0,i.jsx)(e.th,{children:"Type"}),(0,i.jsx)(e.th,{children:"Default"}),(0,i.jsx)(e.th,{children:"Description"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"id"})}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"string"})}),(0,i.jsx)(e.td,{children:"-"}),(0,i.jsx)(e.td,{children:"\u53ef\u914d\u7f6e\uff0c\u4e0d\u914d\u7f6e\u53d8\u81ea\u52a8\u751f\u6210\u552f\u4e00\u503c uuid"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"prefix"})}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"string"})}),(0,i.jsx)(e.td,{children:"-"}),(0,i.jsx)(e.td,{children:"\u8868\u5355\u540d\u524d\u7f00"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"type"})}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"InputType"})}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u8868\u5355\u7c7b\u578b"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"schema"})}),(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{}),(0,i.jsxs)(e.td,{children:["\u4f7f\u7528",(0,i.jsx)(e.code,{children:"yup"}),"\u521b\u5efa\u7684\u8868\u5355\u6821\u9a8c"]})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"defaultValue"})}),(0,i.jsx)(e.td,{children:"unknown"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u8868\u5355\u7684\u9ed8\u8ba4\u503c\uff0c\u5f80\u5f80\u7528\u4e8e\u8868\u5355\u56de\u663e"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"name"})}),(0,i.jsx)(e.td,{children:"string"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u8868\u5355\u7684\u540d\u5b57\uff0c\u4f5c\u4e3a\u8868\u5355\u63d0\u4ea4\u7684\u5b57\u6bb5\u540d"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"label"})}),(0,i.jsx)(e.td,{children:"string"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u8868\u5355\u9879\u7684\u6807\u9898"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"isHidden"})}),(0,i.jsx)(e.td,{children:"boolean"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u662f\u5426\u9690\u85cf"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"fieldConfig"})}),(0,i.jsx)(e.td,{children:"FieldConfig"}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"required"})}),(0,i.jsx)(e.td,{children:"\u8868\u5355\u9879\u7ec4\u4ef6\u7684\u914d\u7f6e"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"config"})}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.a,{href:"#InputConfig",children:(0,i.jsx)(e.code,{children:"InputConfig"})})}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"required"})}),(0,i.jsx)(e.td,{children:"\u57fa\u7840 Input \u7ec4\u4ef6\u7684\u914d\u7f6e"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"watch"})}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.a,{href:"#watch",children:(0,i.jsx)(e.code,{children:"Function"})})}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"required"})}),(0,i.jsx)(e.td,{children:"\u76d1\u542c"})]})]})]}),"\n",(0,i.jsx)(e.h3,{id:"fieldconfig",children:"FieldConfig"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-tsx",children:"type FieldConfig = Partial<RHFTextFieldProps> &\n  Partial<RHFSelectProps> &\n  Partial<RHFUploadProps> &\n  Partial<RHFDatePickerProps> &\n  Partial<RHFCheckboxProps> &\n  Partial<RHFEditorProps> &\n  Partial<RHFMultiSelectProps>;\n"})}),"\n",(0,i.jsx)(e.h3,{id:"InputConfig",children:"InputConfig"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",children:"type InputConfig = {\n  options?:\n    | string[]\n    | {\n        key: string | number;\n        value: string | number;\n        label: string | number;\n      }[];\n};\n"})}),"\n",(0,i.jsx)(e.h3,{id:"watch",children:"watch"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",children:'type watch = (props: {\n  currentConfig: Omit<FormConfigItem, "watch">;\n  values: { [key: string]: any };\n  info: Info;\n  api: UseFormReturn<any>;\n}) => void;\n\ninterface Info {\n  name: string;\n  type: EventType;\n}\n\nexport type EventType =\n  | "focus"\n  | "blur"\n  | "change"\n  | "changeText"\n  | "valueChange"\n  | "contentSizeChange"\n  | "endEditing"\n  | "keyPress"\n  | "submitEditing"\n  | "layout"\n  | "selectionChange"\n  | "longPress"\n  | "press"\n  | "pressIn"\n  | "pressOut"\n  | "momentumScrollBegin"\n  | "momentumScrollEnd"\n  | "scroll"\n  | "scrollBeginDrag"\n  | "scrollEndDrag"\n  | "load"\n  | "error"\n  | "progress"\n  | "custom";\n'})}),"\n",(0,i.jsx)(e.h4,{id:"props",children:"props"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"Option"}),(0,i.jsx)(e.th,{children:"Type"}),(0,i.jsx)(e.th,{children:"Description"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"currentConfig"})}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.a,{href:"#FormConfigItem",children:(0,i.jsx)(e.code,{children:"FormConfigItem"})})}),(0,i.jsx)(e.td,{children:"\u8be5\u8868\u5355\u9879\u76ee\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u53ef\u4ee5\u8fdb\u884c\u67e5\u8be2\u548c\u4fee\u6539"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"values"})}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"{[key: string]: any}"})}),(0,i.jsx)(e.td,{children:"\u6240\u5c5e\u8868\u5355\u4e0b\u7684\u6240\u6709\u8868\u5355\u9879\u7684\u952e\u503c\u5bf9\u7ed3\u5408\u3002"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"info"})}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"Info"})}),(0,i.jsx)(e.td,{children:"\u4e8b\u4ef6\u7684\u4fe1\u606f"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"api"})}),(0,i.jsx)(e.td,{children:(0,i.jsx)(e.code,{children:"UseFormReturn<any> "})}),(0,i.jsx)(e.td,{children:"react hook form \u7684 form \u5b9e\u4f8b"})]})]})]}),"\n",(0,i.jsx)(e.h4,{id:"demo",children:"demo"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-tsx",children:"{\n  ...\n  watch: ({ currentConfig, values, info, api }) => {\n          if (info.name == 'Parent_Category_id') {\n            currentConfig.config!.options = allChildCategory\n              .filter((item) => {\n                let flag = item.parent_id == values['Parent_Category_id'];\n                return flag;\n              })\n              .map((item) => {\n                const { id, name } = item;\n                return {\n                  value: id,\n                  key: id,\n                  label: name,\n                };\n              });\n          }\n        },\n  ...\n}\n\n"})})]})}function m(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(j,{...n})}):j(n)}}}]);