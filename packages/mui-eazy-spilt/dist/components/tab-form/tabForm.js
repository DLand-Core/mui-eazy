import{__awaiter as r,__generator as t}from"../../node_modules/.pnpm/@rollup_plugin-typescript@11.1.6_rollup@4.9.6_tslib@2.6.2_typescript@5.3.3/node_modules/tslib/tslib.es6.js";import{j as e}from"../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js";import{memo as o,forwardRef as n,useRef as i,useState as a,useImperativeHandle as s,useMemo as u}from"react";import{FormView as l}from"./formView.js";import{TabView as m}from"./tabView/tabView.js";import{notify as f}from"../notify/notify.js";var d=o(n((function(o,n){var d=this,c=o.tabConfig,p=o.tabId,b=o.handleTabChange,v=i({}),j=a([]),g=j[0],h=j[1],_=function(e){return r(d,void 0,void 0,(function(){var r,o;return t(this,(function(t){switch(t.label){case 0:return r=e.map((function(r){return r.trigger()})),[4,Promise.all(r)];case 1:return o=t.sent(),h(o),o.some((function(r){return!r}))?(f.error("error"),[2,!1]):[2,!0]}}))}))};s(n,(function(){return{validate:_,getTabFormRef:function(){return v.current}}}),[c]);var w=u((function(){var r=[];for(var t in c){var o=c[t];r.push({id:o.id,label:o.label,node:e.jsx(l,{id:o.id,formRef:v,formConfig:o.node})})}return r}),[c]);return e.jsx(m,{errorResult:g,tabId:p,handleTabChange:b,tabs:w,variant:"scrollable",scrollButtons:"auto"})})));export{d as TabForm};
