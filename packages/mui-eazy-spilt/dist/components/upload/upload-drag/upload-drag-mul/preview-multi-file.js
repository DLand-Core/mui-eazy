import{__assign as e}from"../../../../node_modules/.pnpm/@rollup_plugin-typescript@11.1.6_rollup@4.9.6_tslib@2.6.2_typescript@5.3.3/node_modules/tslib/tslib.es6.js";import{j as t}from"../../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js";import{Box as o}from"@mui/material";import{useRef as r}from"react";import{HTML5Backend as n}from"../../../../node_modules/.pnpm/react-dnd-html5-backend@16.0.1/node_modules/react-dnd-html5-backend/dist/index.js";import{DndProvider as i}from"../../../../node_modules/.pnpm/react-dnd@16.0.1_@types_node@20.11.16_@types_react@18.2.51_react@18.2.0/node_modules/react-dnd/dist/core/DndProvider.js";import{useDrop as d}from"../../../../node_modules/.pnpm/react-dnd@16.0.1_@types_node@20.11.16_@types_react@18.2.51_react@18.2.0/node_modules/react-dnd/dist/hooks/useDrop/useDrop.js";import{useDrag as m}from"../../../../node_modules/.pnpm/react-dnd@16.0.1_@types_node@20.11.16_@types_react@18.2.51_react@18.2.0/node_modules/react-dnd/dist/hooks/useDrag/useDrag.js";import s from"../../../../node_modules/.pnpm/@mui_material@5.15.5_@emotion_react@11.5.0_@emotion_styled@11.6.0_@types_react@18.2.51_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Stack/Stack.js";import{FileThumbnail as a}from"../../../file-thumbnail/file-thumbnail.js";import c from"../../../../node_modules/.pnpm/@mui_material@5.15.5_@emotion_react@11.5.0_@emotion_styled@11.6.0_@types_react@18.2.51_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/ListItemText/ListItemText.js";import l from"../../../../node_modules/.pnpm/@mui_material@5.15.5_@emotion_react@11.5.0_@emotion_styled@11.6.0_@types_react@18.2.51_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/IconButton/IconButton.js";import{alpha as p}from"@mui/system";import{Iconify as u}from"../../../iconify/iconify.js";var _={CARD:"card"};function f(o){var n=o.index,i=o.file,f=o.onRemove,y=o.sx,x=void 0===y?{}:y,g=o.moveCard,j=r(null),v=d({accept:_.CARD,collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){var o;if(j.current){var r=e.index,i=n;if(r!==i){var d=null===(o=j.current)||void 0===o?void 0:o.getBoundingClientRect(),m=(d.bottom-d.top)/2,s=t.getClientOffset().y-d.top;r<i&&s<m||r>i&&s>m||(null==g||g(r,i),e.index=i)}}}}),h=v[0].handlerId,b=v[1],D=m({type:_.CARD,item:function(){return{id:i,index:n}},collect:function(e){return{isDragging:e.isDragging()}}}),C=D[0].isDragging?0:1;return(0,D[1])(b(j)),t.jsxs(s,{ref:j,"data-handler-id":h,spacing:2,direction:"row",alignItems:"center",sx:e({my:1,py:1,px:1.5,borderRadius:1,border:function(e){return"solid 1px ".concat(p(e.palette.grey[500],.16))},opacity:C},x),children:[t.jsx(a,{file:i}),t.jsx(c,{primary:i.split("/").slice(-1)[0],secondary:"",secondaryTypographyProps:{component:"span",typography:"caption"}}),f&&t.jsx(l,{size:"small",onClick:function(){f(i)},children:t.jsx(u,{icon:"mingcute:close-line",width:16})})]},i)}function y(e){var r=e.fileNameList,d=e.onRemove,m=e.sx,s=e.moveCard;return t.jsx(o,{children:t.jsx(i,{backend:n,children:null==r?void 0:r.map((function(e,o){return t.jsx("div",{children:t.jsx(f,{index:o,moveCard:s,file:e,onRemove:d,sx:m})},e)}))})})}export{_ as ItemTypes,y as default};
